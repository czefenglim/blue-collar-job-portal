<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Detail Wireframe</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 20px;
        display: flex;
        justify-content: center;
      }
      .mobile-frame {
        width: 375px;
        min-height: 812px;
        background-color: #ffffff;
        border: 1px solid #ddd;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
      }
      .header {
        background-color: white;
        padding: 20px;
        padding-top: 40px;
        border-bottom: 1px solid #eee;
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .back-button {
        width: 24px;
        height: 24px;
        background-color: #333;
        border-radius: 4px;
      }
      .header-title {
        font-size: 18px;
        font-weight: bold;
      }
      .content {
        padding: 20px;
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .job-header {
        display: flex;
        gap: 15px;
        align-items: start;
      }
      .company-logo {
        width: 60px;
        height: 60px;
        background-color: #e0e0e0;
        border-radius: 8px;
      }
      .job-title-block {
        flex: 1;
      }
      .job-title {
        width: 100%;
        height: 20px;
        background-color: #333;
        border-radius: 4px;
        margin-bottom: 8px;
      }
      .company-name {
        width: 60%;
        height: 14px;
        background-color: #666;
        border-radius: 4px;
      }
      .tag-row {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }
      .tag {
        padding: 4px 10px;
        background-color: #f1f5f9;
        border-radius: 4px;
        font-size: 12px;
        color: #475569;
      }
      .appeal-box {
        background-color: #eff6ff;
        border: 1px solid #bfdbfe;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
      }
      .appeal-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 8px;
        color: #1e40af;
        font-weight: bold;
      }
      .appeal-text {
        font-size: 14px;
        color: #1e3a8a;
        line-height: 1.4;
      }
      .appeal-evidence {
        font-size: 12px;
        color: #3b82f6;
        margin-top: 8px;
        font-weight: 600;
      }
      .rejection-box {
        background-color: #fef2f2;
        border: 1px solid #fecaca;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
      }
      .rejection-title {
        color: #b91c1c;
        font-weight: bold;
        margin-bottom: 5px;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .rejection-text {
        color: #7f1d1d;
        font-size: 14px;
      }
      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin-bottom: 20px;
      }
      .info-card {
        background-color: #f8fafc;
        padding: 12px;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      .info-label-sm {
        font-size: 10px;
        color: #64748b;
      }
      .info-value-sm {
        font-size: 12px;
        font-weight: 600;
        color: #1e293b;
      }
      .action-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: white;
        padding: 16px 20px;
        border-top: 1px solid #eee;
        display: flex;
        gap: 12px;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
      }
      .btn {
        flex: 1;
        height: 48px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        cursor: pointer;
        font-size: 16px;
      }
      .btn-reject {
        background-color: #fee2e2;
        color: #dc2626;
        border: 1px solid #fecaca;
      }
      .btn-approve {
        background-color: #16a34a;
        color: white;
      }
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
      }
      /* ... existing styles ... */
    </style>
    <script>
      function adjustHeight() {
        const frame = document.getElementById('mobileFrame');
        if (frame) {
          const contentHeight = frame.scrollHeight;
          if (contentHeight > 812) {
            frame.style.height = contentHeight + 'px';
          } else {
            frame.style.height = '812px';
          }
        }
      }

      window.onload = adjustHeight;
      // Also adjust on content changes if needed
    </script>
  </head>
  <body>
    <div class="mobile-frame" id="mobileFrame">
      <div class="header">
        <div class="back-button"></div>
        <div class="header-title">Job Details</div>
      </div>
      <div class="content">
        <!-- Appeal Status Alert (Conditional) -->
        <div class="appeal-box">
          <div class="appeal-header">
            <span>Appeal Request</span>
          </div>
          <div class="appeal-text">
            Employer explanation for why this job should be approved despite
            previous rejection.
          </div>
          <div class="appeal-evidence">2 Files Attached</div>
        </div>

        <div class="job-header">
          <div class="company-logo"></div>
          <div class="job-title-block">
            <div class="job-title"></div>
            <div class="company-name"></div>
            <div class="tag-row">
              <div class="tag">Full-time</div>
              <div class="tag">On-site</div>
            </div>
          </div>
        </div>

        <!-- Key Info Grid -->
        <div>
          <div class="section-title">Key Information</div>
          <div class="info-grid">
            <div class="info-card">
              <div class="info-label-sm">Location</div>
              <div class="info-value-sm">Kuala Lumpur</div>
            </div>
            <div class="info-card">
              <div class="info-label-sm">Salary</div>
              <div class="info-value-sm">RM 2,500 - 3,500</div>
            </div>
            <div class="info-card">
              <div class="info-label-sm">Experience</div>
              <div class="info-value-sm">Entry Level</div>
            </div>
            <div class="info-card">
              <div class="info-label-sm">Working Hours</div>
              <div class="info-value-sm">9am - 6pm</div>
            </div>
          </div>
        </div>

        <!-- Stats -->
        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-val">1.2k</div>
            <div class="stat-lbl">Views</div>
          </div>
          <div class="stat-card">
            <div class="stat-val">45</div>
            <div class="stat-lbl">Applications</div>
          </div>
          <div class="stat-card">
            <div class="stat-val">2d</div>
            <div class="stat-lbl">Posted</div>
          </div>
        </div>

        <div>
          <div class="section-title">Job Description</div>
          <div class="description-block">
            We are looking for an experienced Site Manager to oversee daily
            operations at our construction site. You will be responsible for
            ensuring safety compliance, managing workers, and keeping the
            project on schedule.
          </div>
        </div>

        <div>
          <div class="section-title">Requirements</div>
          <div class="description-block">
            • Minimum 3 years of experience in construction management<br />
            • Valid CIDB Green Card<br />
            • Strong leadership and communication skills<br />
            • Ability to read technical drawings
          </div>
        </div>

        <div>
          <div class="section-title">Benefits</div>
          <div class="description-block">
            • EPF & SOCSO contributions<br />
            • Performance bonus<br />
            • Health insurance
          </div>
        </div>

        <div style="height: 100px"></div>
      </div>

      <div class="action-bar">
        <div class="btn btn-reject" onclick="openRejectModal()">Reject</div>
        <div class="btn btn-approve" onclick="openApproveModal()">Approve</div>
      </div>

      <!-- Reject Modal -->
      <div class="modal-overlay" id="rejectModal">
        <div class="modal-content">
          <div class="modal-title">Reject Job</div>
          <textarea
            class="modal-input"
            id="rejectReason"
            placeholder="Reason for rejection..."
          ></textarea>
          <div class="modal-actions">
            <button class="modal-button cancel" onclick="closeRejectModal()">
              Cancel
            </button>
            <button
              class="modal-button confirm-danger"
              onclick="confirmReject()"
            >
              Reject
            </button>
          </div>
        </div>
      </div>

      <!-- Approve Modal -->
      <div class="modal-overlay" id="approveModal">
        <div class="modal-content">
          <div class="modal-title">Approve Job</div>
          <div class="modal-text">
            Are you sure you want to approve this job posting? It will be live
            immediately.
          </div>
          <div class="modal-actions">
            <button class="modal-button cancel" onclick="closeApproveModal()">
              Cancel
            </button>
            <button
              class="modal-button confirm-success"
              onclick="confirmApprove()"
            >
              Approve
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      function adjustHeight() {
        const frame = document.getElementById('mobileFrame');
        frame.style.height = '812px'; // Reset to min-height
        if (frame.scrollHeight > 812) {
          frame.style.height = frame.scrollHeight + 'px';
        }
      }
      window.addEventListener('load', adjustHeight);
      setInterval(adjustHeight, 1000);

      function openApproveModal() {
        document.getElementById('approveModal').style.display = 'flex';
      }

      function closeApproveModal() {
        document.getElementById('approveModal').style.display = 'none';
      }

      function confirmApprove() {
        alert('Job approved successfully!');
        closeApproveModal();
      }

      function openRejectModal() {
        document.getElementById('rejectModal').style.display = 'flex';
      }

      function closeRejectModal() {
        document.getElementById('rejectModal').style.display = 'none';
        document.getElementById('rejectReason').value = '';
      }

      function confirmReject() {
        const reason = document.getElementById('rejectReason').value;
        if (!reason) {
          alert('Please enter a rejection reason');
          return;
        }
        alert('Job rejected with reason: ' + reason);
        closeRejectModal();
      }
    </script>
  </body>
</html>
